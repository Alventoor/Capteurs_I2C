<!DOCTYPE html>
<html>
    <head>
        <title>Quelle température fait-il ?</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="Internet des Objets Thermostat">
		<meta name="author" content="Philippe Simier ">

		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

		<link href="/css/half-slider.css" rel="stylesheet">
		<!-- Style pour la boite (div id popin) coins arrondis bordure blanche ombre -->
		<style type="text/css"> 
		#popin {
				background-color: #fff;
				border-radius: 8px;
				box-shadow: 0 0 20px #999;
				padding: 10px;
		}
		
		</style>
	
		<script src="//ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<script type="text/javascript">
		
			function affiche( data ) {               // fonction pour afficher les données reçues
				console.log(data);                   // affichage de data dans la console
				$('#temperature').text(data.TemperatureC); 
				$('#pression').text(data.Pression);
				$('#humidite').text(data.Humidite);
				$('#altitude').text(data.altitude);
			}	
		
			function requete_ajax(){
				// requete Ajax méthode getJSON 
				$.getJSON(
					"/cgi-bin/bme280Json", // Le fichier cible côté serveur. data au format Json
					affiche 
				);
			}
			
			$(document).ready(function(){
			    $.getJSON("/cgi-bin/bme280Json", affiche); // affichage des données quand la page est dispo
				setInterval(requete_ajax, 2000);  // appel de la fonction requete_ajax toutes les 2 secondes
			});
		</script>
  </head>
  <body>
	<!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            <a class="navbar-brand" href="/index.html">Philippe S</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav ">
                    <li class="dropdown navbar-inverse">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Raspberry pi<span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li><a href="/gpio/gpio.html">GPIO Formulaire</a></li>
							<li><a href="/gpio/traffic_light.html">GPIO Traffic light</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="/bme280/valeurs.html">BME280 Valeurs</a></li>
							<li><a href="/bme280/graphique.html">BME280 Graphiques</a></li>
							
							<li role="separator" class="divider"></li>
							<li><a href="/documentation/">Fiches aide mémoire</a></li>
							
						</ul>
					</li>
					<li><a href="/gmaps.html">Google Map</a></li>
					<li><a href="/phpmyadmin">phpMyAdmin</a></li>
                    <li><a href="https://github.com/PhilippeSimier">GitHub</a></li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>
   
    <!-- Half Page Image Background Carousel Header -->
    <header id="myCarousel" class="carousel slide">
        <!-- Indicators -->
        <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
        </ol>

        <!-- Wrapper for Slides -->
        <div class="carousel-inner">
            <div class="item active">
                <!-- Set the first background image using inline CSS below. -->
                <div class="fill" style="background-image:url('../images/raspberry.jpeg');"></div>
                <div class="carousel-caption">
                    <h2>Raspberry pi</h2>
                </div>
            </div>
            <div class="item">
                <!-- Set the second background image using inline CSS below. -->
                <div class="fill" style="background-image:url('../images/home_page.jpg');"></div>
                <div class="carousel-caption">
                    <h2>Learning</h2>
                </div>
            </div>
            <div class="item">
                <!-- Set the third background image using inline CSS below. -->
                <div class="fill" style="background-image:url('../images/traffic-lights.jpg');"></div>
                <div class="carousel-caption">
                    <h2>Traffic light</h2>
                </div>
            </div>
        </div>

        <!-- Controls -->
        <a class="left carousel-control" href="#myCarousel" data-slide="prev">
            <span class="icon-prev"></span>
        </a>
        <a class="right carousel-control" href="#myCarousel" data-slide="next">
            <span class="icon-next"></span>
        </a>

    </header>

    <!-- Page Content -->
		
	<div class="container" style="padding:15px;">
		<div class="row">
			<section class="col-sm-6">
				<div class="page-header">
					<h2>Le Mans (72) <small>- alt. <span id="altitude"></span></small></h2>
				</div>
				<div id="popin">
					
					<div class="row">
					    <div class="col-sm-6"><h3>Température:</h3></div>
						<div class="col-sm-6"><h3><span id="temperature"></span></h3></div>
					</div>
					<div class="row">
					    <div class="col-sm-6"><h3>Pression:</h3></div>
						<div class="col-sm-6"><h3><span id="pression"></span></h3></div>
					</div>
					<div class="row">
					    <div class="col-sm-6"><h3>Humidité:</h3></div>
						<div class="col-sm-6"><h3><span id="humidite"></span></h3></div>
					</div>									
				</div>
			</section>
			<section class="col-sm-6">
				<div class="page-header">
					<h2>Capteur <small> BME280</small> </h2>
				</div>
				<div id="popin">
					<img src="/images/bme280.jpg" style="width:100%">
				</div>
				<br />
				<p> Le BME280 est un capteur environnemental pour mesurer la température, la pression barométrique et l'humidité relative! 
				    Ce capteur est idéal pour réaliser une petite station météo. Il peut  être connecté sur un bus I2C ou SPI! 		 
				</p>		
			</section>
			<section class="col-sm-12">

				<div class="page-header">
					<h1>I2C <small>Inter-Integrated Circuit</small> </h1>
				</div>	
				<p>L'I2C est un bus de données qui permet de relier facilement un microprocesseur et différents circuits électroniques. 
				Conçu par Philips en 1982 pour les applications de domotique et d’électronique. 
				Il existe maintenant d’innombrables périphériques exploitant ce bus <p/>
				<p>
				I2C est un bus série synchrone bidirectionnel half-duplex.
				La connexion est réalisée par l’intermédiaire de deux lignes :
				    <ul>
						<li>SDA (<em>Serial Data Line</em>) : ligne de données bidirectionnelle,</li>
						<li>SCL (<em>Serial Clock Line</em>) : ligne d’horloge de synchronisation bidirectionnelle.</li>
					</ul>
				</div>
			</section>	
	</div>
			
	
	
    <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12">
                    <p>Copyright &copy; Section Snir Lycée Touchard le Mans</p>
                </div>
            </div>
            <!-- /.row -->
        </footer>

    </div>
    <!-- /.container -->

    <!-- jQuery -->
    <script src="../js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="../js/bootstrap.min.js"></script>

    <!-- Script to Activate the Carousel -->
    <script>
    $('.carousel').carousel({
        interval: 10000 //changes the speed
    })
    </script>
	
    </body>
</html>
