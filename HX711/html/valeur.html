<!DOCTYPE html>
<html>
    <head>
        <title>Balance</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="Internet des Objets Balance">
		<meta name="author" content="Philippe Simier ">

		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

		<link href="/css/half-slider.css" rel="stylesheet">
		<!-- Style pour la boite (div id popin) coins arrondis bordure blanche ombre -->
		<style type="text/css"> 
		.popin {
				background-color: #fff;
				border-radius: 8px;
				box-shadow: 0 0 20px #999;
				padding: 10px;
		}

		.h1 {
			font-size: 100px;
		}
		
		</style>
	
		<script src="//ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<script type="text/javascript">
			function affiche( data ) {               // fonction pour afficher les données reçues
				console.log(data);               // affichage de data dans la console
				$('#Weight').text(data.Weight); 		

			}	
		
			function requete_ajax(){
				// requete Ajax méthode getJSON 
				$.getJSON(
					"/cgi-bin/balanceJson", // Le fichier cible côté serveur. data au format Json
					affiche 
				);
			}
				
			$(document).ready(function(){
								
			    $.getJSON("/cgi-bin/balanceJson", affiche); // affichage des données quand la page est dispo
				setInterval(requete_ajax, 1000);  // appel de la fonction requete_ajax toutes les 10 secondes
				//setInterval("requete_ajax()", 1000);  écriture alternative  possible avec une chaîne "requete_ajax()"
			});
		</script>
  </head>
<body>
 
   <div class="popin" id="affichage">
			
    <div class="row">
        <div class="col-sm-6"><h3>Poids : </h3></div>
	<div class="col-sm-6"><h1 class="h1"><span id="Weight"></span></h1></div>
    </div>

    </div>
</body>
